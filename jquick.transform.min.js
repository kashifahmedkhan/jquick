// jQuick CSS3 Transform Plugin v 1.0 - http://www.codingjack.com/playground/jquick/
// Â© Jason McElwaine aka CodingJack - http://codecanyon.net/user/CodingJack
// License: http://creativecommons.org/licenses/by-sa/3.0/deed.en_US

;(function(g){function r(b,a,e){this.onComplete=e.onComplete;this.onCompleteParams=e.onCompleteParams;if(0===e.duration)this.stop();else{var m=this,g=function(){m.obj=b;var d,h,j,c,f,g=0,k;k=[];var p=[],l=b.getAttribute("style"),r=e.duration||jQuick.defaultDuration,t=(e.ease||jQuick.defaultEase).toLowerCase().split(".");for(h in a)if(a.hasOwnProperty(h)){j=h;if(f=j.match(y))for(d=f.length;d--;)c=f[d],j=j.replace(RegExp(c,"g"),"-"+c.toLowerCase());c=d=a[h];f="backgroundPosition"===h;if(!z.test(c)&& "opacity"!==h&&-1===h.search(s)&&!f)c+="px;";else if(f){c=d.x;d=d.y;f=isNaN(c);var u=isNaN(d);if(!f&&!u)c+="px",d+="px";else{var q=b.style.backgroundPosition,q=""!==q?q.split(" "):window.getComputedStyle(b,null).backgroundPosition.split(" ");!f?c+="px":c=q[0];!u?d+="px":d=q[1]}c=c+" "+d+";"}else c+=";";k[g]=j+":"+c.replace(v,"{}");p[g++]=j;if(l&&(f=l.search(j),-1!==f)){j=l.length-1;for(d=f-1;++d<j&&";"!==l[d];);l=l.split(l.substring(f,d+1)).join("")}}m.moves=h=w.replace(A,p.toString()).replace(B, (0.001*r).toFixed(2)).replace(C,D[t[0]][t[1]]);k=k.toString();k=k.replace(v,"");k=k.replace(E,",");b.className=b.className.replace(F,"");b.addEventListener(n,x,!1);b.setAttribute("style",l.replace(G,"")+h+k)};b.style.visibility="visible";b.cjTransform=this;this.delayed=e.delay?setTimeout(g,30<e.delay?e.delay:30):setTimeout(g,30)}}function x(b){var a=this.cjTransform;a&&b.target===b.currentTarget&&a.stop(a.onComplete)}function H(b,a,e){"animate"===b?(this.cjTransform&&this.cjTransform.stop(),e||(e= {}),"transform"in a&&(a[s]=a.transform,delete a.transform),new r(this,a,e)):"stop"===b&&this.cjTransform&&this.cjTransform.stop(a)}var n=g.transitions(),s,w,v=/,/g,E=/{}/g,y=/[A-Z]/g,F=/ cj-tween/g,G=/^\s+|\s+$/g,A=/{props}/,C=/{easing}/,B=/{duration}/,z=/(auto|inherit|rgb|%|#)/,D={linear:{easenone:"0.250, 0.250, 0.750, 0.750",easein:"0.420, 0.000, 1.000, 1.000",easeout:"0.000, 0.000, 0.580, 1.000",easeinout:"0.420, 0.000, 0.580, 1.000"},quint:{easein:"0.755, 0.050, 0.855, 0.060",easeout:"0.230, 1.000, 0.320, 1.000", easeinout:"0.860, 0.000, 0.070, 1.000"},quad:{easein:"0.550, 0.085, 0.680, 0.530",easeout:"0.250, 0.460, 0.450, 0.940",easeinout:"0.455, 0.030, 0.515, 0.955"},quart:{easein:"0.895, 0.030, 0.685, 0.220",easeout:"0.165, 0.840, 0.440, 1.000",easeinout:"0.770, 0.000, 0.175, 1.000"},cubic:{easein:"0.550, 0.055, 0.675, 0.190",easeout:"0.215, 0.610, 0.355, 1.000",easeinout:"0.645, 0.045, 0.355, 1.000"},circ:{easein:"0.600, 0.040, 0.980, 0.335",easeout:"0.075, 0.820, 0.165, 1.000",easeinout:"0.785, 0.135, 0.150, 0.860"}, sine:{easein:"0.470, 0.000, 0.745, 0.715",easeout:"0.390, 0.575, 0.565, 1.000",easeinout:"0.445, 0.050, 0.550, 0.950"},expo:{easein:"0.950, 0.050, 0.795, 0.035",easeout:"0.190, 1.000, 0.220, 1.000",easeinout:"1.000, 0.000, 0.000, 1.000"}};if(n){var m=n.property,p=document.createElement("style");s=g.transforms();n=n.end;p.type="text/css";p.innerHTML=".cj-tween{"+m+"-property:none !important;}";document.getElementsByTagName("head")[0].appendChild(p);w=m+"-property:{props};"+m+"-duration:{duration}s;"+ m+"-timing-function:cubic-bezier({easing});"}r.prototype.stop=function(b){var a=this.obj;a?(delete a.cjTransform,a.removeEventListener(n,x,!1),a.className+=" cj-tween",a.setAttribute("style",a.getAttribute("style").split(this.moves).join(";").split(";;").join(";")),b&&this.onComplete.call(a,this.onCompleteParams)):(clearTimeout(this.delayed),b&&this.onComplete.apply(a,[this.onCompleteParams]))};g.fn("transform",function(b,a,e){return s?this.each(H,[b,a,e]):this})})(jQuick);
